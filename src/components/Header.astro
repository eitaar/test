---
// Header component for portfolio navigation
---

<header class="fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-md border-b border-white/10">
  <nav class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo/Name -->
    <a 
      href="/" 
      class="text-xl font-Orbitron font-bold text-white hover:text-cyan-400 transition-colors duration-300"
    >
      Portfolio
    </a>
    
    <!-- Navigation Links -->
    <div class="hidden md:flex items-center space-x-8">
      <a 
        href="/" 
        class="text-white/80 hover:text-white transition-colors duration-300 font-Inter"
      >
        Home
      </a>
      <a 
        href="/works" 
        class="text-white/80 hover:text-white transition-colors duration-300 font-Inter"
      >
        Works
      </a>
      <a 
        href="/about" 
        class="text-white/80 hover:text-white transition-colors duration-300 font-Inter"
      >
        About
      </a>
      <a 
        href="/contact" 
        class="text-white/80 hover:text-white transition-colors duration-300 font-Inter"
      >
        Contact
      </a>
      
      <!-- Theme Toggle Button -->
      <button 
        id="theme-toggle"
        class="p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-300 group"
        aria-label="テーマを切り替え"
      >
        <svg class="w-5 h-5 text-white group-hover:scale-110 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
          <path id="sun-icon" class="hidden" d="M10 2L13.09 8.26L20 9L14 14.74L15.18 21.02L10 17.77L4.82 21.02L6 14.74L0 9L6.91 8.26L10 2Z"/>
          <path id="moon-icon" d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
        </svg>
      </button>
    </div>
    
    <!-- Mobile Menu Button -->
    <button 
      id="mobile-menu-toggle"
      class="md:hidden p-2 text-white"
      aria-label="メニューを開く"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </nav>
  
  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-black/90 backdrop-blur-md">
    <div class="px-6 py-4 space-y-4">
      <a href="/" class="block text-white/80 hover:text-white transition-colors duration-300">Home</a>
      <a href="/works" class="block text-white/80 hover:text-white transition-colors duration-300">Works</a>
      <a href="/about" class="block text-white/80 hover:text-white transition-colors duration-300">About</a>
      <a href="/contact" class="block text-white/80 hover:text-white transition-colors duration-300">Contact</a>
    </div>
  </div>
</header>

<script>
  // Theme toggle functionality
  function setupThemeToggle() {
    const themeToggle = document.getElementById('theme-toggle');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    
    function updateIcons() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      if (currentTheme === 'dark') {
        sunIcon?.classList.add('hidden');
        moonIcon?.classList.remove('hidden');
      } else {
        sunIcon?.classList.remove('hidden');
        moonIcon?.classList.add('hidden');
      }
    }
    
    themeToggle?.addEventListener('click', () => {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateIcons();
    });
    
    // Initialize icons
    updateIcons();
  }
  
  // Mobile menu toggle
  function setupMobileMenu() {
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuToggle?.addEventListener('click', () => {
      mobileMenu?.classList.toggle('hidden');
    });
  }
  
  // Initialize on page load
  setupThemeToggle();
  setupMobileMenu();
  
  // Re-initialize after page transitions
  document.addEventListener('astro:after-swap', () => {
    setupThemeToggle();
    setupMobileMenu();
  });
</script>
